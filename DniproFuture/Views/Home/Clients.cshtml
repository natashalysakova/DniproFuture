@using DniproFuture.Models.Extentions
@using ViewRes
@model DniproFuture.Models.OutputModels.NeedHelpOutputModel[]

<!--Clients Section -->
<section id="clients" class="bg-light-gray">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 text-center">
                <h2 class="section-heading">@_HomeStrings.ClientsTitle</h2>
            </div>
            <div class="col-lg-12 text-center">
                <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
                    <!-- Indicators -->
                    <ol class="carousel-indicators">
                        @for (var i = 0; i < Model.Length; i++)
                        {
                            if (Model[i].FullName != null && Model[i].Photos.Count > 0)
                            {
                                if (i == 0)
                                {
                                    <li data-target="#carousel-example-generic" data-slide-to="@i" class="active"></li>
                                }
                                else
                                {
                                    <li data-target="#carousel-example-generic" data-slide-to="@i"></li>
                                }
                            }
                        }
                    </ol>

                    <!-- Wrapper for slides -->
                    <div class="carousel-inner" role="listbox">
                        @for (var i = 0; i < Model.Length; i++)
                        {
                            if (Model[i].FullName != null && Model[i].Photos.Count > 0)
                            {
                                string classes;
                                if (i == 0)
                                {
                                    classes = "item active";
                                }
                                else
                                {
                                    classes = "item";
                                }
                                
                                <div class="@classes">
                                    <img src="@Url.Content("~/Content/img/NeedHelp/" + Model[i].Photos[0])" alt="...">
                                    <div class="carousel-caption">
                                        <a align="right" href="@Url.Action("NeedHelpDetails", "Home", new { name = Model[i].FullName.GetStringForUrl() })"><h3>@Model[i].FullName</h3></a>
                                        <p>@Model[i].Birthday.ToShortDateString()</p>
                                    </div>
                                </div>
                            }
                        }

                        <!-- Controls -->
                        <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
                            <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
                            <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>